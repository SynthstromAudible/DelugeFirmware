# ğŸ¹ Arp Control Keyboard Layout - User Guide

## Overview
The Arp Control layout provides comprehensive real-time control over the Deluge's arpeggiator with an integrated scale-based keyboard. Perfect for live performance and creative arpeggiator manipulation.

## ğŸšï¸ Encoder Controls

### Y Encoder (Vertical)
- **Turn**: Scroll through rhythm patterns (1-50)
  - When rhythm OFF: Preview patterns (shows "Pattern Name (preview)")
  - When rhythm ON: Change patterns in real-time during playback
- **Press**: Toggle rhythm ON/OFF
  - Maintains selected pattern when toggling

### X Encoder (Horizontal) 
- **Turn**: Control arpeggiator sync rate
  - Range: WHOLE â†’ 2ND â†’ 4TH â†’ 8TH â†’ 16TH â†’ 32ND â†’ 64TH â†’ 128TH â†’ 256TH
  - Immediate effect with arpeggiator restart

### SELECT Encoder
- **Turn**: Normal synth preset selection (no interference)
- **KEYBOARD + Turn**: Change keyboard layouts

## ğŸ¹ Pad Controls

### Row 0 (Top Row) - Main Controls

#### ğŸŸ¢ Green Pads (0-2) - Arpeggiator Mode
- **Tap**: Cycle through arp modes
  - OFF â†’ UP â†’ DOWN â†’ UP&DOWN â†’ RANDOM â†’ OFF
- **Visual**: Green when active, red when OFF
- **Perfect for**: Live arp variation and character changes

#### ğŸ”µ Blue Pads (4-11) - Octave Control
- **Tap**: Set octave count (1-8)
  - Pad position = octave count
  - Bright pads = active octaves, dim pads = available
- **Visual**: Blue brightness shows octave range

#### ğŸŸ¡ Yellow Pads (13-15) - Rhythm Control
- **Tap**: Toggle rhythm ON/OFF (same as Y encoder press)
  - Bright when rhythm ON, dim when rhythm OFF
- **Multiple access**: Same function as Y encoder press

### Row 1 - Sequence Length Control

#### ğŸ”µ Cyan Pads (0-15) - Custom Sequence Length
- **Tap**: Set arpeggiator sequence length (1-16 steps)
  - Pad position = sequence length
  - **Always lit**: Shows current length persistently
  - Creates polyrhythmic effects and variations

### Row 3 - Performance Controls & Transpose

#### ğŸŸ  Orange Pads (0-7) - Gate Length Control
- **Tap**: Set gate length (12.5% - 100%)
  - Pad 1 = 12.5% (staccato), Pad 8 = 100% (legato)
  - **Always lit**: Shows current gate length
  - Perfect for rhythmic character changes

#### ğŸ©· Pink Pads (8-13) - Velocity Spread Control
- **Tap**: Set velocity randomization (0-100%)
  - 6 levels of velocity spread for human feel
  - **Always lit**: Shows current spread amount
  - Adds organic variation to arpeggiator

#### ğŸ”´ Red Pad (14) - Transpose Down
- **Tap**: Shift keyboard down one octave
- **Range**: Down to C-2 for deep bass

#### ğŸŸ£ Purple Pad (15) - Transpose Up  
- **Tap**: Shift keyboard up one octave
- **Range**: Up to C8 for high leads

### Rows 4-7 - Scale-Based Keyboard

#### ğŸ¹ Musical Keyboard
- **Scale-aware**: Uses current song scale and root note
- **4 rows**: Approximately 4+ octaves of scale coverage
- **Visual feedback**: 
  - Root notes highlighted
  - Active notes bright
  - Scale notes normal brightness
  - Non-scale notes dimmed
- **More octaves**: Scale notes provide better coverage than chromatic

## ğŸ¨ Visual Feedback & Layout

### Complete Layout Overview
```
Row 0: [ğŸŸ¢ğŸŸ¢ğŸŸ¢] [ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ] [ğŸŸ¡ğŸŸ¡ğŸŸ¡]
       Green=Mode Blue=Octaves           Yellow=Rhythm

Row 1: [ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ]
       Cyan=Sequence Length (always visible)

Row 2: [âšªâšªâšªâšªâšªâšªâšªâšªâšªâšªâšªâšªâšªâšªâšªâšª]
       White=Rhythm Pattern (always visible)

Row 3: [ğŸŸ ğŸŸ ğŸŸ ğŸŸ ğŸŸ ğŸŸ ğŸŸ ğŸŸ ][ğŸ©·ğŸ©·ğŸ©·ğŸ©·ğŸ©·ğŸ©·][ğŸ”´ğŸŸ£]
       Orange=Gate    Pink=Velocity    Red/Purple=Transpose

Rows 4-7: ğŸ¹ Scale-Based Keyboard ğŸ¹
```

### Color-Coded Controls
- **ğŸŸ¢ Green**: Arp mode cycling (OFF/UP/DOWN/UP&DOWN/RANDOM)
- **ğŸ”µ Blue**: Octave count (bright = active, dim = available)
- **ğŸŸ¡ Yellow**: Rhythm toggle (bright = ON, dim = OFF)
- **ğŸ”µ Cyan**: Sequence length (always shows current length)
- **ğŸŸ  Orange**: Gate length (always shows current setting)
- **ğŸ©· Pink**: Velocity spread (always shows current amount)
- **ğŸ”´ Red**: Keyboard transpose down
- **ğŸŸ£ Purple**: Keyboard transpose up

### Rhythm Pattern Display (Row 2)
- **White pads**: Active steps in rhythm pattern
- **Black pads**: Rest steps (silence)
- **Bright**: When rhythm is ON and playing
- **Dim**: When rhythm is OFF (preview mode)
- **Always visible**: Patterns show even when not playing

### Current Step Highlighting
- **Extra bright pad**: Shows currently playing step in rhythm
- **Only when playing**: Appears during active playback with rhythm ON

## ğŸµ Performance Workflows

### Quick Arp Setup
1. **Green pad** â†’ Set arp mode (UP, DOWN, etc.)
2. **Blue pads** â†’ Set octave range
3. **Y encoder** â†’ Choose rhythm pattern
4. **Yellow pad** â†’ Turn rhythm ON
5. **Play keyboard** â†’ Trigger arpeggiator

### Live Performance
- **Y encoder** â†’ Change rhythm patterns in real-time
- **Green pads** â†’ Cycle through arp modes (OFF/UP/DOWN/UP&DOWN/RANDOM)
- **Orange pads** â†’ Adjust gate length for rhythmic feel
- **Pink pads** â†’ Add velocity humanization
- **Cyan pads** â†’ Change sequence length for polyrhythms
- **Yellow pads** â†’ Quick rhythm toggle

### Sound Design
- **X encoder** â†’ Fine-tune arp timing (sync rate)
- **Transpose pads** â†’ Explore different keyboard ranges
- **Gate length** â†’ Shape note articulation (staccato to legato)
- **Velocity spread** â†’ Add organic, human variation
- **Sequence length** â†’ Create complex polyrhythmic patterns

## ğŸ›ï¸ Advanced Tips

### Rhythm Control
- **Preview mode**: Scroll through patterns when rhythm is OFF
- **Real-time changes**: Modify patterns during playback when ON
- **Pattern memory**: Selected pattern is remembered when toggling OFF/ON

### Keyboard Usage
- **Scale-based**: Only shows notes that work well together
- **Transpose freely**: Explore bass (C-2) to lead (C8) ranges
- **Visual guidance**: Root notes and scale structure clearly visible

### Performance Combinations
- **Arp mode + Rhythm pattern**: 5 modes Ã— 50 patterns = 250 combinations
- **Gate length + Velocity spread**: Control rhythmic feel and humanization
- **Sequence length + Rhythm**: Create complex polyrhythmic patterns
- **Octave range + Transpose**: Perfect register for each musical context
- **Sync rate + Gate length**: Fine-tune timing and articulation
- **Mode cycling + Pattern changes**: Dynamic live performance variations

### Pro Performance Tips
- **Start simple**: Use basic UP mode with rhythm patterns
- **Add complexity gradually**: Gate â†’ Velocity â†’ Sequence length
- **Use visual feedback**: All controls show current state
- **Combine for impact**: Mode + Pattern + Gate changes for dramatic shifts
- **Remember settings**: Most controls persist until changed

## ğŸš€ Getting Started

1. **Load the firmware** with Arp Control layout
2. **Switch to keyboard view** (KEYBOARD button + SELECT encoder)
3. **Choose "Arp Control"** layout
4. **Start with green pad** â†’ Set arp to UP mode
5. **Play some notes** on the scale keyboard
6. **Experiment** with all the controls!

---

*The Arp Control layout transforms the Deluge into a powerful arpeggiator performance instrument with intuitive pad-based controls and comprehensive real-time parameter access.*
